
<!DOCTYPE html>

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ê–≥—Ä–µ–≥–∞—Ç –≤ –ë–î –Ω–µ —Ä–∞–∑—Ä—É—à–∞—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏? &#8212; System Architecture</title>
    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/alabaster.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css" type="text/css" />
    <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/translations.js"></script>
    <link rel="index" title="–ê–ª—Ñ–∞–≤–∏—Ç–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å" href="../../../../../genindex.html" />
    <link rel="search" title="–ü–æ–∏—Å–∫" href="../../../../../search.html" />
    <link rel="next" title="Event Sourcing" href="event-sourcing.html" />
    <link rel="prev" title="–ü–æ–∏—Å–∫ –≥—Ä–∞–Ω–∏—Ü –ê–≥—Ä–µ–≥–∞—Ç–æ–≤" href="aggregate-boundaries.html" />
    
   
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />



    
        
            <link rel="canonical" href="https://dckms.github.io/system-architecture/emacsway/it/ddd/grade/domain/aggregate-encapsulation.html" />
        
    

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="aggregate-boundaries.html" title="Previous document">–ü–æ–∏—Å–∫ –≥—Ä–∞–Ω–∏—Ü –ê–≥—Ä–µ–≥–∞—Ç–æ–≤</a>
        </li>
        <li>
          <a href="event-sourcing.html" title="Next document">Event Sourcing</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
    
  <section id="emacsway-golang-encapsulation">
<span id="id1"></span><h1><a class="toc-backref" href="#id3" role="doc-backlink">–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ê–≥—Ä–µ–≥–∞—Ç –≤ –ë–î –Ω–µ —Ä–∞–∑—Ä—É—à–∞—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏?</a><a class="headerlink" href="#emacsway-golang-encapsulation" title="Permalink to this heading">¬∂</a></h1>
<p><em>–ê–≤—Ç–æ—Ä —Ä–∞–∑–¥–µ–ª–∞: Ivan Zakrevsky</em></p>
<p>–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –ª–∏—à–µ–Ω—ã —Å–º—ã—Å–ª–∞ —Å–≤–æ–µ–≥–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤ —É—Å–ª–æ–≤–∏—è—Ö –¥—ã—Ä—è–≤–æ–π, –∫–∞–∫ —Ä–µ—à–µ—Ç–æ, –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏.
–í–æ–ø—Ä–æ—Å –≤ —Ç–æ–º, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é –ê–≥—Ä–µ–≥–∞—Ç–æ–≤ –≤ Golang, –∫–æ–≥–¥–∞ –Ω–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–∞, –∏–ª–∏, –Ω–∞–æ–±–æ—Ä–æ—Ç, —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ê–≥—Ä–µ–≥–∞—Ç–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–∞.</p>
<nav class="contents" id="id2">
<p class="topic-title">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</p>
<ul class="simple">
<li><p><a class="reference internal" href="#emacsway-golang-encapsulation" id="id3">–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ê–≥—Ä–µ–≥–∞—Ç –≤ –ë–î –Ω–µ —Ä–∞–∑—Ä—É—à–∞—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏?</a></p>
<ul>
<li><p><a class="reference internal" href="#memento-pattern" id="id4">Memento pattern</a></p></li>
<li><p><a class="reference internal" href="#walker" id="id5">Walker</a></p></li>
<li><p><a class="reference internal" href="#valuer-scanner" id="id6">Valuer &amp; Scanner</a></p></li>
<li><p><a class="reference internal" href="#reflection" id="id7">Reflection</a></p></li>
<li><p><a class="reference internal" href="#exporter" id="id8">Exporter</a></p>
<ul>
<li><p><a class="reference internal" href="#accepting-interface" id="id9">1. Accepting interface</a></p></li>
<li><p><a class="reference internal" href="#returning-structure" id="id10">2. Returning structure</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="memento-pattern">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Memento pattern</a><a class="headerlink" href="#memento-pattern" title="Permalink to this heading">¬∂</a></h2>
<p>Memento –æ–∫–∞–∑–∞–ª—Å—è –±–ª–∏–∑–∫–æ, –Ω–æ –Ω–µ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é. –°—É—Ç—å Memento –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å —Å–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∏–∫–æ–º—É, –∫—Ä–æ–º–µ —Å–≤–æ–µ–≥–æ —Å–æ–∑–¥–∞—Ç–µ–ª—è:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Preserving encapsulation boundaries. Memento avoids exposing information that only an originator should manage but that must be stored nevertheless outside the originator.
The pattern shields other objects from potentially complex Originator internals, thereby preserving encapsulation boundaries.</p></li>
</ol>
<p class="attribution">‚Äî&quot;Design Patterns: Elements of Reusable Object-Oriented Software&quot; by Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides</p>
</div></blockquote>
<p>–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏, —Å–º. <a class="reference external" href="https://github.com/microsoftarchive/cqrs-journey/blob/6ffd9a8c8e865a9f8209552c52fa793fbd496d1f/source/Conference/Registration/SeatsAvailability.cs#L237">–∑–¥–µ—Å—å</a> –∏ <a class="reference external" href="https://github.com/microsoftarchive/cqrs-journey/blob/6ffd9a8c8e865a9f8209552c52fa793fbd496d1f/source/Infrastructure/Azure/Infrastructure.Azure/EventSourcing/AzureEventSourcedRepository.cs#L31">–∑–¥–µ—Å—å</a>.</p>
</section>
<section id="walker">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Walker</a><a class="headerlink" href="#walker" title="Permalink to this heading">¬∂</a></h2>
<p>Walker –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ—é –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Visitor —Å —Ü–µ–ª—å—é —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é –ê–≥—Ä–µ–≥–∞—Ç–æ–≤. –ö —á–∏—Å–ª—É –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Visitor –æ—Ç–Ω–æ—Å–∏—Ç—Å—è:</p>
<blockquote>
<div><p>6. Breaking encapsulation. Visitor's approach assumes that the ConcreteElement interface is powerful enough to let visitors do their job.
As a result, the pattern often forces you to provide public operations that access an element's internal state, which may compromise its encapsulation.</p>
<p class="attribution">‚Äî&quot;Design Patterns: Elements of Reusable Object-Oriented Software&quot; by Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides</p>
</div></blockquote>
<p>–ß—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å Walker –≤ —Å–ª—É—á–∞–µ –æ–±—Ö–æ–¥–∞ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ê–≥—Ä–µ–≥–∞—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –°—É—â–Ω–æ—Å—Ç—è–º–∏?
–í–µ—Ä–æ—è—Ç–Ω–æ, —ç—Ç–æ –±—É–¥–µ—Ç –±—É–¥–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —Ç.–µ. –Ω–µ–∫–∏–π –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç, –≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–π –Ω–µ–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö.
–≠—Ç–æ –ª–∏—à–∞–µ—Ç —Å–º—ã—Å–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Visitor, –µ—Å–ª–∏ –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—Ç–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏—á–µ–º, –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ—Ç SQL.</p>
<p>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">type</span><span class="w"> </span><span class="nx">Walkable</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">Accept</span><span class="p">(</span><span class="nx">Walker</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">Walker</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">SetField</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">WalkWalkable</span><span class="p">(</span><span class="nx">Walkable</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">WalkUint8</span><span class="p">(</span><span class="kt">uint8</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">WalkUint64</span><span class="p">(</span><span class="kt">uint64</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">WalkUint</span><span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">WalkTime</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="nx">Endorsement</span><span class="p">)</span><span class="w"> </span><span class="nx">Accept</span><span class="p">(</span><span class="nx">walker</span><span class="w"> </span><span class="nx">interfaces</span><span class="p">.</span><span class="nx">Walker</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">SetField</span><span class="p">(</span><span class="s">&quot;endorserId&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">WalkWalkable</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">endorserId</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">SetField</span><span class="p">(</span><span class="s">&quot;endorserGrade&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">WalkWalkable</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">endorserGrade</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">id</span><span class="w"> </span><span class="nx">EndorserId</span><span class="p">)</span><span class="w"> </span><span class="nx">Accept</span><span class="p">(</span><span class="nx">walker</span><span class="w"> </span><span class="nx">interfaces</span><span class="p">.</span><span class="nx">Walker</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">WalkUint64</span><span class="p">(</span><span class="nx">id</span><span class="p">.</span><span class="nx">Value</span><span class="p">())</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –Ω–∞ —ç—Ç–∞–ø–µ —Å–æ–∑–¥–∞–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞–º –ø–æ–∫–∞ –µ—â–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã –ø–µ—Ä–≤–∏—á–Ω—ã–µ –∫–ª—é—á–∏ –ê–≥—Ä–µ–≥–∞—Ç–æ–≤, —á—Ç–æ–±—ã –∏—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç—å –≤ SQL-–∑–∞–ø—Ä–æ—Å—ã –∏—Ö –°—É—â–Ω–æ—Å—Ç–µ–π.</p>
<p>–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å –æ —Å–ø–æ—Å–æ–±–∞—Ö –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–∑–º–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–µ–∂–¥—É Walkers –∏ Repositories, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç &quot;–†–∞–∑–ª–µ—Ç –î—Ä–æ–±–∏&quot; (Code Smell) –≤ —Å–ª—É—á–∞–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–ø–æ—Å–æ–±–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è SQL (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å–ª—É—á–∞–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∏–∞–ª–µ–∫—Ç–∞ –ë–î –∏–ª–∏ –≤ —Å–ª—É—á–∞–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ QueryBuilder).
Walker –Ω–∞—á–∏–Ω–∞–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω—ã–º –æ –¥–µ—Ç–∞–ª—è—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Repository.</p>
<p>–í —Ü–µ–ª—è—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è DRY –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ—Å—Ç—å –≤–æ–∑–ª–æ–∂–∏—Ç—å –Ω–∞ Walker –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏ SQL, –∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –µ–≥–æ –æ—Ç –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç–∏ –∑–Ω–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ –ë–î, —á—Ç–æ –±—É–¥–µ—Ç —Ä–∞–∑—Ä—ã–≤–∞—Ç—å –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ SQL –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –ø–æ–¥—Ä—ã–≤–∞—Ç—å Cohesion.</p>
</section>
<section id="valuer-scanner">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Valuer &amp; Scanner</a><a class="headerlink" href="#valuer-scanner" title="Permalink to this heading">¬∂</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://pkg.go.dev/database/sql/driver#Valuer">Valuer</a></p></li>
<li><p><a class="reference external" href="https://pkg.go.dev/database/sql#Scanner">Scanner</a></p></li>
</ul>
<p>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Scanner –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–≤–µ—Ä—å –∫ –∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏ ValueObject, —á—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –µ–≥–æ —Å—É—Ç–∏.
–ê —Ç–∞–∫ –∂–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±—Ä–µ—à—å –≤ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –ê–≥—Ä–µ–≥–∞—Ç–∞.
–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏ —Ä–∞–¥–∏, —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –º–æ–∂–Ω–æ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ –º—É—Ç–∏—Ä—É–µ–º—ã–º, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—è, –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ª–∏ —É–∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ.</p>
<p>–ù–æ –µ—Å—Ç—å –µ—â–µ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç - –º–µ—Ç–æ–¥ <code class="docutils literal notranslate"><span class="pre">Scan(src</span> <span class="pre">any)</span> <span class="pre">error</span></code> –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞, —á—Ç–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–∞, –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –∫–∞–∫ <a class="reference external" href="https://martinfowler.com/eaaCatalog/specialCase.html">Special Case</a> –∏–ª–∏ <a class="reference external" href="https://refactoring.com/catalog/introduceSpecialCase.html">Null Object</a>.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –º–æ–¥–µ–ª–∏.
–í–æ–ø—Ä–æ—Å –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–ª—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ &quot;4. Validating historical data&quot; —Å—Ç–∞—Ç—å–∏ &quot;<a class="reference external" href="https://enterprisecraftsmanship.com/posts/always-valid-domain-model/">Always-Valid Domain Model</a>&quot; by Vladimir Khorikov –∏ –≤ —Ä–∞–∑–¥–µ–ª–µ &quot;6. The use of ORMs within and outside of the always-valid boundary&quot; —Å—Ç–∞—Ç—å–∏ &quot;<a class="reference external" href="https://enterprisecraftsmanship.com/posts/database-always-valid-domain-model/">Database and Always-Valid Domain Model</a>&quot; by Vladimir Khorikov.</p>
<p>–° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, Valuer –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã, –∞ –∑–Ω–∞—á–∏—Ç, –æ–Ω –Ω–µ –ø—Ä–∏–≥–æ–¥–µ–Ω –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –ê–≥—Ä–µ–≥–∞—Ç–∞:</p>
<blockquote>
<div><p>It is either nil, a type handled by a database driver's NamedValueChecker interface, or an instance of one of these types:</p>
<ul class="simple">
<li><p>int64</p></li>
<li><p>float64</p></li>
<li><p>bool</p></li>
<li><p>[]byte</p></li>
<li><p>string</p></li>
<li><p>time.Time</p></li>
</ul>
<p class="attribution">‚Äî<a class="reference external" href="https://pkg.go.dev/database/sql/driver#Value">–ò—Å—Ç–æ—á–Ω–∏–∫</a></p>
</div></blockquote>
</section>
<section id="reflection">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Reflection</a><a class="headerlink" href="#reflection" title="Permalink to this heading">¬∂</a></h2>
<p>–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ <a class="reference external" href="https://pkg.go.dev/reflect#Value.FieldByName">–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</a> –∫–∞–∫–∏–µ-–ª–∏–±–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º –∞—Ç—Ä–∏–±—É—Ç–∞–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Ä–µ—Ñ–ª–µ–∫—Ü–∏–∏.</p>
<p>–ú–æ–∂–µ—Ç –±—ã—Ç—å —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é –∏ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ –±—ã - —è –Ω–µ –ø—Ä–æ–±–æ–≤–∞–ª.
–ù–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—Ñ–ª–µ–∫—Å–∏—é –≤ production –¥–ª—è —Ç–∞–∫–∏—Ö —Ü–µ–ª–µ–π –∫–∞–∫-—Ç–æ –Ω–µ —Å–∏–ª—å–Ω–æ —Ö–æ—á–µ—Ç—Å—è, –≤ —Ç.—á. –∏ –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
–ö —Ç–æ–º—É –∂–µ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —è–≤–ª—è–µ—Ç—Å—è, –ø–æ —Å—É—Ç–∏, –µ—â–µ –æ–¥–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º –ø—Ä–æ–±–∏—Ç—å –±—Ä–µ—à—å –≤ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏.</p>
</section>
<section id="exporter">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Exporter</a><a class="headerlink" href="#exporter" title="Permalink to this heading">¬∂</a></h2>
<section id="accepting-interface">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">1. Accepting interface</a><a class="headerlink" href="#accepting-interface" title="Permalink to this heading">¬∂</a></h3>
<p>–°—Å—ã–ª–∫–∏ –ø–æ —Ç–µ–º–µ:</p>
<ul class="simple">
<li><p>&quot;<a class="reference external" href="https://www.infoworld.com/article/2072302/more-on-getters-and-setters.html">More on getters and setters</a>&quot; by Allen Holub</p></li>
<li><p>&quot;<a class="reference external" href="https://stackoverflow.com/questions/24921227/save-and-load-objects-without-breaking-encapsulation">Save and load objects without breaking encapsulation</a>&quot; at Stackoverflow</p></li>
</ul>
<p>–ò–¥–µ—é –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ:</p>
<div class="literal-block-wrapper docutils container" id="emacsway-code-exporter-example-1">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://www.infoworld.com/article/2072302/more-on-getters-and-setters.html">Example by Allen Holub</a></span><a class="headerlink" href="#emacsway-code-exporter-example-1" title="–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–¥">¬∂</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Locale</span><span class="p">;</span><span class="w"></span>

<span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"></span>
<span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="kd">private</span><span class="w"> </span><span class="n">Name</span><span class="w">        </span><span class="n">name</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kd">private</span><span class="w"> </span><span class="n">EmployeeId</span><span class="w">  </span><span class="n">id</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kd">private</span><span class="w"> </span><span class="n">Money</span><span class="w">       </span><span class="n">salary</span><span class="p">;</span><span class="w"></span>

<span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Exporter</span><span class="w"></span>
<span class="w">     </span><span class="p">{</span><span class="w">   </span><span class="kt">void</span><span class="w"> </span><span class="nf">addName</span><span class="w">    </span><span class="p">(</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w">   </span><span class="p">);</span><span class="w"></span>
<span class="w">         </span><span class="kt">void</span><span class="w"> </span><span class="nf">addID</span><span class="w">      </span><span class="p">(</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="w">     </span><span class="p">);</span><span class="w"></span>
<span class="w">         </span><span class="kt">void</span><span class="w"> </span><span class="nf">addSalary</span><span class="w">  </span><span class="p">(</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>

<span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Importer</span><span class="w"></span>
<span class="w">     </span><span class="p">{</span><span class="w">   </span><span class="n">String</span><span class="w"> </span><span class="nf">provideName</span><span class="p">();</span><span class="w"></span>
<span class="w">         </span><span class="n">String</span><span class="w"> </span><span class="nf">provideID</span><span class="p">();</span><span class="w"></span>
<span class="w">         </span><span class="n">String</span><span class="w"> </span><span class="nf">provideSalary</span><span class="p">();</span><span class="w"></span>
<span class="w">         </span><span class="kt">void</span><span class="w">   </span><span class="nf">open</span><span class="p">();</span><span class="w"></span>
<span class="w">         </span><span class="kt">void</span><span class="w">   </span><span class="nf">close</span><span class="p">();</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>

<span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="nf">Employee</span><span class="p">(</span><span class="w"> </span><span class="n">Importer</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="p">{</span><span class="w">   </span><span class="n">builder</span><span class="p">.</span><span class="na">open</span><span class="p">();</span><span class="w"></span>
<span class="w">         </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Name</span><span class="w">      </span><span class="p">(</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="na">provideName</span><span class="p">()</span><span class="w">     </span><span class="p">);</span><span class="w"></span>
<span class="w">         </span><span class="k">this</span><span class="p">.</span><span class="na">id</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EmployeeId</span><span class="p">(</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="na">provideID</span><span class="p">()</span><span class="w">       </span><span class="p">);</span><span class="w"></span>
<span class="w">         </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Money</span><span class="w">     </span><span class="p">(</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="na">provideSalary</span><span class="p">(),</span><span class="w"></span>
<span class="w">                                       </span><span class="k">new</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s">&quot;en&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;US&quot;</span><span class="p">)</span><span class="w">    </span><span class="p">);</span><span class="w"></span>
<span class="w">         </span><span class="n">builder</span><span class="p">.</span><span class="na">close</span><span class="p">();</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>

<span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="w"> </span><span class="n">Exporter</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="p">{</span><span class="w">   </span><span class="n">builder</span><span class="p">.</span><span class="na">addName</span><span class="w">  </span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span><span class="w">   </span><span class="p">);</span><span class="w"></span>
<span class="w">         </span><span class="n">builder</span><span class="p">.</span><span class="na">addID</span><span class="w">    </span><span class="p">(</span><span class="w"> </span><span class="n">id</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span><span class="w">     </span><span class="p">);</span><span class="w"></span>
<span class="w">         </span><span class="n">builder</span><span class="p">.</span><span class="na">addSalary</span><span class="p">(</span><span class="w"> </span><span class="n">salary</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>

<span class="w">     </span><span class="c1">//...</span><span class="w"></span>
<span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<p>–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nx">grade_1</span><span class="w"></span>

<span class="kn">import</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;time&quot;</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">Exporter</span><span class="p">[</span><span class="nx">T</span><span class="w"> </span><span class="kt">any</span><span class="p">]</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">SetState</span><span class="p">(</span><span class="nx">T</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">Exportable</span><span class="p">[</span><span class="nx">T</span><span class="w"> </span><span class="kt">any</span><span class="p">]</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">ExportTo</span><span class="p">(</span><span class="nx">Exporter</span><span class="p">[</span><span class="nx">T</span><span class="p">])</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="w"> </span><span class="kt">uint</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="p">)</span><span class="w"> </span><span class="nx">Export</span><span class="p">(</span><span class="nx">ex</span><span class="w"> </span><span class="nx">Exporter</span><span class="p">[</span><span class="kt">uint</span><span class="p">])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">ex</span><span class="p">.</span><span class="nx">SetState</span><span class="p">(</span><span class="nb">uint</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">MemberId</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="w"></span>
<span class="kd">type</span><span class="w"> </span><span class="nx">Grade</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="w"></span>
<span class="kd">type</span><span class="w"> </span><span class="nx">EndorsementCount</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">EndorserExporterSetter</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">SetId</span><span class="p">(</span><span class="nx">MemberId</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">SetGrade</span><span class="p">(</span><span class="nx">Grade</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">SetAvailableEndorsementCount</span><span class="p">(</span><span class="nx">EndorsementCount</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">SetPendingEndorsementCount</span><span class="p">(</span><span class="nx">EndorsementCount</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">SetVersion</span><span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">SetCreatedAt</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">UintExporter</span><span class="w"> </span><span class="kt">uint</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">UintExporter</span><span class="p">)</span><span class="w"> </span><span class="nx">SetState</span><span class="p">(</span><span class="nx">value</span><span class="w"> </span><span class="kt">uint</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="nx">e</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">UintExporter</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">Endorser</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">id</span><span class="w">                        </span><span class="nx">MemberId</span><span class="w"></span>
<span class="w">    </span><span class="nx">grade</span><span class="w">                     </span><span class="nx">Grade</span><span class="w"></span>
<span class="w">    </span><span class="nx">availableEndorsementCount</span><span class="w"> </span><span class="nx">EndorsementCount</span><span class="w"></span>
<span class="w">    </span><span class="nx">pendingEndorsementCount</span><span class="w">   </span><span class="nx">EndorsementCount</span><span class="w"></span>
<span class="w">    </span><span class="nx">version</span><span class="w">                   </span><span class="kt">uint</span><span class="w"></span>
<span class="w">    </span><span class="nx">createdAt</span><span class="w">                 </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="nx">Endorser</span><span class="p">)</span><span class="w"> </span><span class="nx">Export</span><span class="p">(</span><span class="nx">ex</span><span class="w"> </span><span class="nx">EndorserExporterSetter</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">ex</span><span class="p">.</span><span class="nx">SetId</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">ex</span><span class="p">.</span><span class="nx">SetGrade</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">grade</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">ex</span><span class="p">.</span><span class="nx">SetAvailableEndorsementCount</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">availableEndorsementCount</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">ex</span><span class="p">.</span><span class="nx">SetPendingEndorsementCount</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pendingEndorsementCount</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">ex</span><span class="p">.</span><span class="nx">SetVersion</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">version</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">ex</span><span class="p">.</span><span class="nx">SetCreatedAt</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">createdAt</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">EndorserExporter</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">Id</span><span class="w">                        </span><span class="nx">UintExporter</span><span class="w"></span>
<span class="w">    </span><span class="nx">Grade</span><span class="w">                     </span><span class="nx">UintExporter</span><span class="w"></span>
<span class="w">    </span><span class="nx">AvailableEndorsementCount</span><span class="w"> </span><span class="nx">UintExporter</span><span class="w"></span>
<span class="w">    </span><span class="nx">PendingEndorsementCount</span><span class="w">   </span><span class="nx">UintExporter</span><span class="w"></span>
<span class="w">    </span><span class="nx">Version</span><span class="w">                   </span><span class="kt">uint</span><span class="w"></span>
<span class="w">    </span><span class="nx">CreatedAt</span><span class="w">                 </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">ex</span><span class="w"> </span><span class="o">*</span><span class="nx">EndorserExporter</span><span class="p">)</span><span class="w"> </span><span class="nx">SetId</span><span class="p">(</span><span class="nx">val</span><span class="w"> </span><span class="nx">MemberId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">val</span><span class="p">.</span><span class="nx">Export</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">ex</span><span class="p">.</span><span class="nx">Id</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">ex</span><span class="w"> </span><span class="o">*</span><span class="nx">EndorserExporter</span><span class="p">)</span><span class="w"> </span><span class="nx">SetGrade</span><span class="p">(</span><span class="nx">val</span><span class="w"> </span><span class="nx">Grade</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">val</span><span class="p">.</span><span class="nx">Export</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">ex</span><span class="p">.</span><span class="nx">Grade</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">ex</span><span class="w"> </span><span class="o">*</span><span class="nx">EndorserExporter</span><span class="p">)</span><span class="w"> </span><span class="nx">SetAvailableEndorsementCount</span><span class="p">(</span><span class="nx">val</span><span class="w"> </span><span class="nx">EndorsementCount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">val</span><span class="p">.</span><span class="nx">Export</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">ex</span><span class="p">.</span><span class="nx">AvailableEndorsementCount</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">ex</span><span class="w"> </span><span class="o">*</span><span class="nx">EndorserExporter</span><span class="p">)</span><span class="w"> </span><span class="nx">SetPendingEndorsementCount</span><span class="p">(</span><span class="nx">val</span><span class="w"> </span><span class="nx">EndorsementCount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">val</span><span class="p">.</span><span class="nx">Export</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">ex</span><span class="p">.</span><span class="nx">PendingEndorsementCount</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">ex</span><span class="w"> </span><span class="o">*</span><span class="nx">EndorserExporter</span><span class="p">)</span><span class="w"> </span><span class="nx">SetVersion</span><span class="p">(</span><span class="nx">val</span><span class="w"> </span><span class="kt">uint</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">ex</span><span class="p">.</span><span class="nx">Version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">val</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">ex</span><span class="w"> </span><span class="o">*</span><span class="nx">EndorserExporter</span><span class="p">)</span><span class="w"> </span><span class="nx">SetCreatedAt</span><span class="p">(</span><span class="nx">val</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">ex</span><span class="p">.</span><span class="nx">CreatedAt</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">val</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>–ò–ª–∏ –Ω–∞ –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ:</p>
<div class="literal-block-wrapper docutils container" id="emacsway-code-exporter-example-2">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://stackoverflow.com/questions/24921227/save-and-load-objects-without-breaking-encapsulation">Example from Stackoverflow</a></span><a class="headerlink" href="#emacsway-code-exporter-example-2" title="–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–¥">¬∂</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="kd">interface</span> <span class="nc">PersonImporter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getAge</span><span class="p">();</span><span class="w"></span>

<span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getId</span><span class="p">();</span><span class="w"></span>
<span class="w"> </span><span class="p">}</span><span class="w"></span>

<span class="w"> </span><span class="kd">interface</span> <span class="nc">PersonExporter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setDetails</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">);</span><span class="w"></span>

<span class="w"> </span><span class="p">}</span><span class="w"></span>

<span class="w"> </span><span class="kd">class</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">     </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w"></span>

<span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="nf">Person</span><span class="p">(</span><span class="n">PersonImporter</span><span class="w"> </span><span class="n">importer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">importer</span><span class="p">.</span><span class="na">getAge</span><span class="p">();</span><span class="w"></span>
<span class="w">         </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">importer</span><span class="p">.</span><span class="na">getId</span><span class="p">();</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>

<span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="n">PersonExporter</span><span class="w"> </span><span class="n">exporter</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="n">exporter</span><span class="p">.</span><span class="na">setDetails</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>

<span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<p>–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Ñ–µ–π—Å—ã, –∏ —ç—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ - —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º —Ç–∏–ø (—Å—Ç—Ä—É–∫—Ç—É—Ä—É), –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å–µ—Ç—Ç–µ—Ä—ã.
–í—Ä—è–¥ –ª–∏ –∫—Ç–æ-—Ç–æ –±—É–¥–µ—Ç —ç—Ç–∏–º –∑–∞–Ω–∏–º–∞—Ç—å—Å—è, –∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –æ–±—è–∑–∞—Ç—å –ê–≥—Ä–µ–≥–∞—Ç –≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ—Å—Ç—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.</p>
<blockquote>
<div><p>üí¨Ô∏è &quot;–¶–µ–ª—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è ‚Äî —É–º–µ–Ω—å—à–∏—Ç—å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.</p>
<p>The goal of software architecture is to minimize the human resources required to build and maintain the required system.&quot;</p>
<p class="attribution">‚Äî&quot;Clean Architecture: A Craftsman's Guide to Software Structure and Design&quot; by Robert C. Martin, –ø–µ—Ä–µ–≤–æ–¥ –û–û–û –ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ &quot;–ü–∏—Ç–µ—Ä&quot;</p>
</div></blockquote>
<p><a class="reference internal" href="#emacsway-code-exporter-example-2"><span class="std std-ref">–í—Ç–æ—Ä–æ–π</span></a> –∏–∑ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ç—Ç–µ—Ä, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–Ω–µ–µ –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–º.
–≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç —É—Å—Ç—É–ø–∞–µ—Ç –ø–µ—Ä–≤–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É —Ç–µ–º, —á—Ç–æ –≤ —Å–ª—É—á–∞–µ –æ–¥–Ω–æ–∏–º–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ <code class="docutils literal notranslate"><span class="pre">setDetails</span></code> –Ω–µ–ª—å–∑—è –æ–±–æ–π—Ç–∏ –æ–¥–Ω–∏–º —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–º —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≥—Ä–µ–≥–∞—Ç –∏ –µ–≥–æ –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–æ–±–Ω—ã–º –¥–ª—è —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ SQL-–∑–∞–ø—Ä–æ—Å–∞.
–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏–¥–µ—Ç—Å—è –∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è, —á—Ç–æ –ª–∏—à–∞–µ—Ç –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤ –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º.
–¢–∞–∫–∂–µ –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –æ–±–ª–∞–¥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–æ–ª—å—à–µ–π —Ö—Ä—É–ø–∫–æ—Å—Ç—å—é –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π, –ª–∏–±–æ –∏—Ö —É–¥–∞–ª–µ–Ω–∏–∏.</p>
<p>–ù–µ–º–Ω–æ–≥–æ —Å–º—É—â–∞–µ—Ç —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–¥–∏–≥–º FP –∏ OOP –¥–ª—è ValueObject.
–•–æ—Ç—è ValueObject –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º, –Ω–æ —Å–∞–º —Ñ–∞–∫—Ç —Ç–æ–≥–æ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —á–∏—Å—Ç—ã–π –æ–±—ä–µ–∫—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –º—É—Ç–∏—Ä—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –¥—Ä—É–≥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–µ–±–æ–ª—å—à–æ–µ —Å–º—É—â–µ–Ω–∏–µ.
–í–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å - –ø–æ—á–µ–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —á–∏—Å—Ç—ã–π –æ–±—ä–µ–∫—Ç –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —á–∏—Å—Ç—ã–π –æ–±—ä–µ–∫—Ç?
–ï—Å–ª–∏ –±—ã Golang –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å Generics –¥–ª—è –º–µ—Ç–æ–¥–æ–≤, —Ç–æ–≥–¥–∞ –º–æ–≥–ª–æ –±—ã –ø–æ–ª—É—á–∏—Ç—å—Å—è —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ <code class="docutils literal notranslate"><span class="pre">Endorser.Export[T](exporterFactory</span> <span class="pre">function(attr1,</span> <span class="pre">attr2,</span> <span class="pre">attr3)</span> <span class="pre">T)</span> <span class="pre">T</span></code>.
–û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏–≤–∞—Ç—å —ç—Ç—É –º—ã—Å–ª—å, —Ç–æ –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–º, —á—Ç–æ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø—ã—Ç–∞–µ–º—Å—è —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –æ–±—Ö–æ–¥–∞ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–≤–∞–Ω–∞ –∏–º–µ–Ω–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º OOP.</p>
<p>–ö–∞–∫ –≥–æ–≤–æ—Ä–∏–ª Michael Feathers:</p>
<blockquote>
<div><p>üí¨Ô∏è &quot;OO makes code understandable by encapsulating moving parts.
FP makes code understandable by minimizing moving parts.&quot;
‚Äî <a class="reference external" href="https://twitter.com/mfeathers/status/29581296216">Michael Feathers</a></p>
</div></blockquote>
<p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –≤ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–µ–π—Å–∞—Ö –¥–µ–ª–∞–µ—Ç –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–æ–ª–µ–µ –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–º–∏.</p>
<p>–ú–æ–∂–Ω–æ –±—ã–ª–æ –±—ã —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω—É–∂–Ω–æ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º <a class="reference internal" href="../../../tdd/tdd.html#emacsway-tdd-black-box"><span class="std std-ref">—á–µ—Ä–Ω–æ–≥–æ —è—â–∏–∫–∞</span></a>, —Ç.–µ. —Ç–æ–ª—å–∫–æ –≤–Ω–µ—à–Ω–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
–°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –≤–µ—Ä–Ω–æ, –Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤–Ω–µ—à–Ω–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–æ –∏ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–≤–µ–¥–µ–Ω–Ω–æ–π –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ê–≥—Ä–µ–≥–∞—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –ë–î.</p>
<blockquote>
<div><p>üí¨Ô∏è &quot;–î–∞–≤–Ω–æ –∏–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –ø—Ä–æ—Å—Ç–æ—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–º –ø—Ä–∏–∑–Ω–∞–∫–æ–º —Ö–æ—Ä–æ—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
–®–∞–±–ª–æ–Ω ¬´–°–∫—Ä–æ–º–Ω—ã–π –æ–±—ä–µ–∫—Ç¬ª ‚Äî —Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–∞–∑–¥–µ–ª –º–µ–∂–¥—É –ª–µ–≥–∫–æ –∏ —Ç—è–∂–µ–ª–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º–∏ —á–∞—Å—Ç—è–º–∏ —á–∞—Å—Ç–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏.
–†–∞–∑–¥–µ–ª –º–µ–∂–¥—É –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ç–æ—Ä–∞–º–∏ –∏ –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º–∏ ‚Äî –æ–¥–Ω–∞ –∏–∑ —Ç–∞–∫–∏—Ö –≥—Ä–∞–Ω–∏—Ü, –Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏—Ö.</p>
<p>It has long been known that testability is an attribute of good architectures.
The Humble Object pattern is a good example, because the separation of the behaviors into testable and non-testable parts often defines an architectural boundary.
The Presenter/View boundary is one of these boundaries, but there are many others.&quot;</p>
<p class="attribution">‚Äî&quot;Clean Architecture: A Craftsman's Guide to Software Structure and Design&quot; by Robert C. Martin, –ø–µ—Ä–µ–≤–æ–¥ –û–û–û –ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ &quot;–ü–∏—Ç–µ—Ä&quot;</p>
</div></blockquote>
</section>
<section id="returning-structure">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">2. Returning structure</a><a class="headerlink" href="#returning-structure" title="Permalink to this heading">¬∂</a></h3>
<p>–í–æ–∑–Ω–∏–∫–∞–µ—Ç —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ—Å—Ç—å –æ–±–ª–µ–≥—á–∏—Ç—å –º–µ—Ç–æ–¥ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–∏–¥–∞–≤ –µ–º—É —Å–∏–≥–Ω–∞—Ç—É—Ä—É <code class="docutils literal notranslate"><span class="pre">Endorser.Export()</span> <span class="pre">EndorserState</span></code> –≤–º–µ—Å—Ç–æ <code class="docutils literal notranslate"><span class="pre">Endorser.ExportTo(ex</span> <span class="pre">EndorserExporter)</span></code>.
–ü–æ–ª—É—á–∏—Ç—Å—è —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞ DTO —Å —Ç–µ–º –ª–∏—à—å –æ—Ç–ª–∏—á–∏–µ–º, —á—Ç–æ –æ–Ω –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –Ω–µ —Å–µ—Ç–µ–≤—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã, –∞ –≥—Ä–∞–Ω–∏—Ü—ã –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –ê–≥—Ä–µ–≥–∞—Ç–∞.
–í Golang —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–≥–ª—è–¥–∏—Ç —á—É—Ç—å –±–æ–ª–µ–µ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º, —Ö–æ—Ç—è –∏ –º–µ–Ω–µ–µ OOP, –Ω–æ –∑–∞—Ç–æ –Ω–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏—Ä—É–µ—Ç —Å FP –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ Value Object.</p>
<p>–û —Ç–∞–∫–æ–º –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø–µ —ç—Ç–æ–º –ø–∏—Å–∞–ª Robert C. Martin:</p>
<blockquote>
<div><p>üí¨Ô∏è &quot;–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ç–æ—Ä—ã —è–≤–ª—è—é—Ç—Å—è —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç—å—é —à–∞–±–ª–æ–Ω–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ¬´–°–∫—Ä–æ–º–Ω—ã–π –æ–±—ä–µ–∫—Ç¬ª (Humble Object), –ø–æ–º–æ–≥–∞—é—â–µ–≥–æ –≤—ã—è–≤–ª—è—Ç—å –∏ –∑–∞—â–∏—â–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã.</p>
<p>Presenters are a form of the Humble Object pattern, which helps us identify and protect architectural boundaries.&quot;</p>
<p>üí¨Ô∏è &quot;–û–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ –≥—Ä–∞–Ω–∏—Ü—ã –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –ø—Ä–æ—Å—Ç—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä.
–ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–ª–∏ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (Data Transfer Objects; DTO).
–î–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã.
–ò–ª–∏ —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –∏—Ö –≤ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã –∏–ª–∏ –æ–±—ä–µ–∫—Ç—ã.
–í–∞–∂–Ω–æ, —á—Ç–æ–±—ã —á–µ—Ä–µ–∑ –≥—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—å –ø—Ä–æ—Å—Ç—ã–µ, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.
–ù–µ –Ω—É–∂–Ω–æ —Ö–∏—Ç—Ä–∏—Ç—å –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–ª–∏ –∑–∞–ø–∏—Å–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ä—É—à–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.</p>
<p>–ù–∞–ø—Ä–∏–º–µ—Ä, –º–Ω–æ–≥–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—Ç–≤–µ—Ç—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.
–ò—Ö –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å ¬´–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –∑–∞–ø–∏—Å–µ–π¬ª.
–¢–∞–∫–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –≥—Ä–∞–Ω–∏—Ü—ã –≤–Ω—É—Ç—Ä—å.
–≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫—Ä—É–≥ –∑–Ω–∞—Ç—å —á—Ç–æ-—Ç–æ –æ –≤–Ω–µ—à–Ω–µ–º –∫—Ä—É–≥–µ.
–ò—Ç–∞–∫, –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —á–µ—Ä–µ–∑ –≥—Ä–∞–Ω–∏—Ü—É –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ñ–æ—Ä–º—É, –Ω–∞–∏–±–æ–ª–µ–µ —É–¥–æ–±–Ω—É—é –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫—Ä—É–≥–∞.</p>
<p>Typically the data that crosses the boundaries consists of <strong>simple data structures</strong>.
You can use <strong>basic structs or simple data transfer objects</strong> if you like.
Or the data can simply be arguments in function calls.
Or you can pack it into a hashmap, or construct it into an object.
The important thing is that isolated, <strong>simple data structures</strong> are passed across the boundaries.
We don't want to cheat and pass Entity objects or database rows.
We don't want the data structures to have any kind of dependency that violates the Dependency Rule.</p>
<p>For example, many database frameworks return a convenient data format in response to a query.
We might call this a &quot;row structure.&quot;
We don't want to pass that row structure inward across a boundary.
Doing so would violate the Dependency Rule because it would force an inner circle to know something about an outer circle.</p>
<p>Thus, when we pass data across a boundary, it is always in the form that is most convenient for the inner circle.&quot;</p>
<p>üí¨Ô∏è &quot;–û–Ω —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Database –≤ –ø–∞–º—è—Ç—å —Å—É—â–Ω–æ—Å—Ç–µ–π Entities —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å DataAccessInterface.
–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ UseCaseInteractor –∑–∞–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å—É—â–Ω–æ—Å—Ç–µ–π Entities –∏ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç –∏–∑ –Ω–∏—Ö –¥—Ä—É–≥–æ–π –ø—Ä–æ—Å—Ç–æ–π Java-–æ–±—ä–µ–∫—Ç OutputData.
–ó–∞—Ç–µ–º –æ–±—ä–µ–∫—Ç OutputData –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å OutputBoundary –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–æ—Ä—É Presenter.</p>
<p>It also uses the DataAccessInterface to bring the data used by those Entities into memory from the Database.
Upon completion, the UseCaseInteractor gathers data from the Entities and constructs the OutputData as another <strong>plain old Java object</strong>.
The OutputData is then passed through the OutputBoundary interface to the Presenter.&quot;</p>
<p class="attribution">‚Äî&quot;Clean Architecture: A Craftsman's Guide to Software Structure and Design&quot; by Robert C. Martin, –ø–µ—Ä–µ–≤–æ–¥ –û–û–û –ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ &quot;–ü–∏—Ç–µ—Ä&quot;</p>
</div></blockquote>
<p>–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ <a class="reference external" href="https://github.com/EventStore/training-advanced-go/blob/9cc2b5a4f3484dc643757c88480c4b6e371149fd/domain/doctorday/day.go#L225">Golang DDD ES/CQRS Reference Application</a> –æ—Ç –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤ EventStore.</p>
<p>–ò —Ç–∞–∫–æ–π –∂–µ –ø–æ–¥—Ö–æ–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç Nick Tune –≤ <a class="reference external" href="https://github.com/elbandit/PPPDDD/blob/4d9d864fa6d9dfc0bad323ae21e949be1808b460/21%20-%20Repositories/DDDPPP.Chap21.EFExample/DDDPPP.Chap21.EFExample.Application/Model/Auction/Auction.cs#L48">–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º –∫–æ–¥–µ</a> –∫ —Å–≤–æ–µ–π –∫–Ω–∏–≥–µ.
–ü—Ä–∏—á–µ–º, –ø—Ä–∏–º–µ–Ω—è–µ—Ç –æ–Ω –µ–≥–æ –¥–∞–∂–µ <a class="reference external" href="https://github.com/elbandit/PPPDDD/blob/4d9d864fa6d9dfc0bad323ae21e949be1808b460/21%20-%20Repositories/DDDPPP.Chap21.EFExample/DDDPPP.Chap21.EFExample.Application/Model/Auction/Money.cs#L58">–¥–ª—è Value Object</a>.</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nx">grade_2</span><span class="w"></span>

<span class="kn">import</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;time&quot;</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">Exportable</span><span class="p">[</span><span class="nx">T</span><span class="w"> </span><span class="kt">any</span><span class="p">]</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">Export</span><span class="p">()</span><span class="w"> </span><span class="nx">T</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="w"> </span><span class="kt">uint</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="p">)</span><span class="w"> </span><span class="nx">Export</span><span class="p">()</span><span class="w"> </span><span class="kt">uint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">uint</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">MemberId</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="w"></span>
<span class="kd">type</span><span class="w"> </span><span class="nx">Grade</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="w"></span>
<span class="kd">type</span><span class="w"> </span><span class="nx">EndorsementCount</span><span class="w"> </span><span class="nx">ExportableUint</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">EndorserState</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">Id</span><span class="w">                        </span><span class="kt">uint</span><span class="w"></span>
<span class="w">    </span><span class="nx">Grade</span><span class="w">                     </span><span class="kt">uint</span><span class="w"></span>
<span class="w">    </span><span class="nx">AvailableEndorsementCount</span><span class="w"> </span><span class="kt">uint</span><span class="w"></span>
<span class="w">    </span><span class="nx">PendingEndorsementCount</span><span class="w">   </span><span class="kt">uint</span><span class="w"></span>
<span class="w">    </span><span class="nx">Version</span><span class="w">                   </span><span class="kt">uint</span><span class="w"></span>
<span class="w">    </span><span class="nx">CreatedAt</span><span class="w">                 </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">Endorser</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">id</span><span class="w">                        </span><span class="nx">MemberId</span><span class="w"></span>
<span class="w">    </span><span class="nx">grade</span><span class="w">                     </span><span class="nx">Grade</span><span class="w"></span>
<span class="w">    </span><span class="nx">availableEndorsementCount</span><span class="w"> </span><span class="nx">EndorsementCount</span><span class="w"></span>
<span class="w">    </span><span class="nx">pendingEndorsementCount</span><span class="w">   </span><span class="nx">EndorsementCount</span><span class="w"></span>
<span class="w">    </span><span class="nx">version</span><span class="w">                   </span><span class="kt">uint</span><span class="w"></span>
<span class="w">    </span><span class="nx">createdAt</span><span class="w">                 </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="nx">Endorser</span><span class="p">)</span><span class="w"> </span><span class="nx">Export</span><span class="p">()</span><span class="w"> </span><span class="nx">EndorserState</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">EndorserState</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">e</span><span class="p">.</span><span class="nx">id</span><span class="p">.</span><span class="nx">Export</span><span class="p">(),</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">grade</span><span class="p">.</span><span class="nx">Export</span><span class="p">(),</span><span class="w"></span>
<span class="w">        </span><span class="nx">e</span><span class="p">.</span><span class="nx">availableEndorsementCount</span><span class="p">.</span><span class="nx">Export</span><span class="p">(),</span><span class="w"></span>
<span class="w">        </span><span class="nx">e</span><span class="p">.</span><span class="nx">pendingEndorsementCount</span><span class="p">.</span><span class="nx">Export</span><span class="p">(),</span><span class="w"></span>
<span class="w">        </span><span class="nx">e</span><span class="p">.</span><span class="nx">version</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">createdAt</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º —Ç–∞–∫–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —è —É—Å–ø–µ–ª –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –≤ –æ—Ç–ª–∏—á–∏–∏ –æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.
–≠—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±–æ–±—â–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, <a class="reference external" href="https://martinfowler.com/eaaCatalog/identityField.html">–æ–±–æ–±—â–µ–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ–∑–∏—Ç–Ω–æ–≥–æ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞</a>.
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–ª–æ–¥—è—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç–µ–º –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –∫ –Ω—É–∂–Ω–æ–º—É –≤–∏–¥—É.</p>
<p>–ó–Ω–∞–Ω–∏–µ –æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º —Ç–∏–ø–µ –ø–æ–¥—Ç–∞–ª–∫–∏–≤–∞–µ—Ç –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é generics —Ç–∞–º, –≥–¥–µ —ç—Ç–æ–≥–æ –Ω–µ—Å–ª–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å.</p>
<p>–í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –µ–µ —Ç–∏–ø–∏–∑–∞—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –∑–Ω–∞–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –æ–±–æ–±—â–µ–Ω–∏—é (–∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—é) –∫–ª–∏–µ–Ω—Ç–∞ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏—é –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Repository.
–ì–æ—Ä–∞–∑–¥–æ —É–¥–æ–±–Ω–µ–π –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –±—ã–ª –±—ã –º–∞—Å—Å–∏–≤/—Å—Ä–µ–∑ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ç–∏–ø–æ–º <a class="reference external" href="https://pkg.go.dev/database/sql/driver#Value">driver.Value</a>.
–≠—Ç–æ –µ—â–µ –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç –≤ –ø–æ–ª—å–∑—É –ø–µ—Ä–≤–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å–µ—Ç—Ç–µ—Ä–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ –ê–≥—Ä–µ–≥–∞—Ç–∞.</p>
<p>–ü–æ–ø—Ä–æ–±–æ–≤–∞–≤ –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞, —è –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è, –≤—Å–µ-—Ç–∞–∫–∏, –Ω–∞ –ø–µ—Ä–≤–æ–º, –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–º, –¥–∞–∂–µ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –µ–≥–æ –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ—Å—Ç—å.</p>
</section>
</section>
</section>



    
        
            <div class="section" style="text-align: right;">
                <p><a href="https://dckms.github.io/system-architecture/emacsway/it/ddd/grade/domain/aggregate-encapsulation.html">Canonical URL</a></p>
            </div>
        
    

          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="aggregate-boundaries.html" title="Previous document">–ü–æ–∏—Å–∫ –≥—Ä–∞–Ω–∏—Ü –ê–≥—Ä–µ–≥–∞—Ç–æ–≤</a>
        </li>
        <li>
          <a href="event-sourcing.html" title="Next document">Event Sourcing</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../../index.html">System Architecture</a></h1>



<p class="blurb">Distributed Collaborative Knowledge Management System for System Architecture</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=dckms&repo=system-architecture&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
<p class="caption" role="heading"><span class="caption-text">–û–±—â–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../trunk/it/index.html">IT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../trunk/soft-skills/index.html">Soft Skills</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../trunk/index.html">–û–±—â–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">–ê–≤—Ç–æ—Ä—Å–∫–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ Emacsway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ivan.ivanov/index.html">–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">–ü—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤o:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../private/index.html">–ü—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">–ü—Ä–æ—á–µ–µ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../README.html">–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://t.me/emacsway_log"><i class="fab fa-telegram" style="color:#54a9eb;"></i> Telegram</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../../../trunk/it/index.html">IT</a></li>
  <li><a href="../../../../../trunk/it/ddd/index.html">DDD</a></li>
  <li><a href="../index.html">Golang DDD (CQRS / Event Sourcing) Reference Application &quot;Grade&quot;</a></li>
  <li><a href="index.html">Domain Layer</a></li><ul>
      <li>Previous: <a href="aggregate-boundaries.html" title="–ø—Ä–µ–¥—ã–¥—É—â–∞—è –≥–ª–∞–≤–∞">–ü–æ–∏—Å–∫ –≥—Ä–∞–Ω–∏—Ü –ê–≥—Ä–µ–≥–∞—Ç–æ–≤</a></li>
      <li>Next: <a href="event-sourcing.html" title="—Å–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞">Event Sourcing</a></li></ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="–ò—Å–∫–∞—Ç—å" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="footer">
      &copy;2023, @dckms (<a href="https://dckms.github.io/system-architecture/LICENSE.txt" rel="nofollow">License</a>).
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../../../_sources/emacsway/it/ddd/grade/domain/aggregate-encapsulation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/dckms/system-architecture" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    

    
        <!-- Yandex.Metrika counter -->
        <script type="text/javascript" >
           (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
           m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
           (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

           ym(87033138, "init", {
                clickmap:true,
                trackLinks:true,
                accurateTrackBounce:true,
                webvisor:true,
                trackHash:true
           });
        </script>
        <noscript><div><img src="https://mc.yandex.ru/watch/87033138" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
        <!-- /Yandex.Metrika counter -->
    

  </body>
</html>